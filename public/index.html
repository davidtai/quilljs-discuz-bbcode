<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <title>bbcode</title>
    <meta charset="utf-8" />
    <!-- quill rich text editor -->
    <script type="text/javascript" src="quill-chinese.js"></script>
    <!-- bbcode util and test data -->
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript" src="bcdata.js"></script>
</head>

<body>

    <div style="margin: 16px 0; box-sizing: border-box;">
        <button onclick="gethtml()">bbcode 转 html</button>
        <button onclick="getbbcode()">html 转 bbcode</button>
    </div>

    <textarea style="width: 100%; height: 300px; box-sizing: border-box;"></textarea>
    <div class="quill" style="margin-bottom: 16px;"></div>

    <script type="text/javascript">
        var quill = new Quill('div.quill', {
            theme: 'snow'
        });
        var logger = document.querySelector('textarea');

        logger.value = bcdata;

        function gethtml() {
            logger.value = bbcode.parse(logger.value);
            quill.clipboard.dangerouslyPasteHTML(logger.value);
        }

        function getbbcode() {
            logger.value = quill.root.innerHTML;
            logger.value = bbcode.build(logger.value);
        }

    </script>

</body>

</html>
